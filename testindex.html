<html>
<head>
<style>
span.testrow {
  padding:4px;
}
</style>
<script>
var testworker = new Worker("js/testworker.js");
</script>
</head>
<body>
<script>
var runs=200;
function runTest(){
   var newrow = document.createElement('DIV');
   var html="<span class=testrow >TEST: "+runs+"</span>";
    html+="<span class=testrow id='num$id' >NUM</span>".replace("$id",runs+"");
    html+="<span class=testrow id='pass$id'>Pass</span>".replace("$id",runs+"");
    html+="<span class=testrow id='factor$id'>Factor</span>".replace("$id",runs+"");
    html+="<span class=testrow id='time$id'>TIME</span>".replace("$id",runs+"");

   newrow.innerHTML=html;
   document.body.appendChild(newrow);

   testworker.postMessage(runs);
   runs--;
}
testworker.onmessage=function(e){
   var tid = e.data.id;
   if(e.data.state=='START'){
     document.getElementById('num'+tid).innerHTML=e.data.inp;
     return;
   }
   document.getElementById('pass'+tid).innerHTML="PASS:"+e.data.passed+"";  
//   var html = "TEST: "+e.data.id+" , NUM : "+e.data.inp+" , Passed: "+e.data.passed+"";


   if(runs>0){
    runTest();
   }
}
runTest();

</script>
</body>
</html>
